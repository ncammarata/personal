{"dependencies":[{"name":"./html","loc":{"line":3,"column":28}}],"generated":{"js":"'use strict';\n\nvar DOCUMENT_MODE = require('./html').DOCUMENT_MODE;\n\n//Const\nvar VALID_DOCTYPE_NAME = 'html',\n    QUIRKS_MODE_SYSTEM_ID = 'http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd',\n    QUIRKS_MODE_PUBLIC_ID_PREFIXES = [\n        '+//silmaril//dtd html pro v0r11 19970101//en',\n        '-//advasoft ltd//dtd html 3.0 aswedit + extensions//en',\n        '-//as//dtd html 3.0 aswedit + extensions//en',\n        '-//ietf//dtd html 2.0 level 1//en',\n        '-//ietf//dtd html 2.0 level 2//en',\n        '-//ietf//dtd html 2.0 strict level 1//en',\n        '-//ietf//dtd html 2.0 strict level 2//en',\n        '-//ietf//dtd html 2.0 strict//en',\n        '-//ietf//dtd html 2.0//en',\n        '-//ietf//dtd html 2.1e//en',\n        '-//ietf//dtd html 3.0//en',\n        '-//ietf//dtd html 3.0//en//',\n        '-//ietf//dtd html 3.2 final//en',\n        '-//ietf//dtd html 3.2//en',\n        '-//ietf//dtd html 3//en',\n        '-//ietf//dtd html level 0//en',\n        '-//ietf//dtd html level 0//en//2.0',\n        '-//ietf//dtd html level 1//en',\n        '-//ietf//dtd html level 1//en//2.0',\n        '-//ietf//dtd html level 2//en',\n        '-//ietf//dtd html level 2//en//2.0',\n        '-//ietf//dtd html level 3//en',\n        '-//ietf//dtd html level 3//en//3.0',\n        '-//ietf//dtd html strict level 0//en',\n        '-//ietf//dtd html strict level 0//en//2.0',\n        '-//ietf//dtd html strict level 1//en',\n        '-//ietf//dtd html strict level 1//en//2.0',\n        '-//ietf//dtd html strict level 2//en',\n        '-//ietf//dtd html strict level 2//en//2.0',\n        '-//ietf//dtd html strict level 3//en',\n        '-//ietf//dtd html strict level 3//en//3.0',\n        '-//ietf//dtd html strict//en',\n        '-//ietf//dtd html strict//en//2.0',\n        '-//ietf//dtd html strict//en//3.0',\n        '-//ietf//dtd html//en',\n        '-//ietf//dtd html//en//2.0',\n        '-//ietf//dtd html//en//3.0',\n        '-//metrius//dtd metrius presentational//en',\n        '-//microsoft//dtd internet explorer 2.0 html strict//en',\n        '-//microsoft//dtd internet explorer 2.0 html//en',\n        '-//microsoft//dtd internet explorer 2.0 tables//en',\n        '-//microsoft//dtd internet explorer 3.0 html strict//en',\n        '-//microsoft//dtd internet explorer 3.0 html//en',\n        '-//microsoft//dtd internet explorer 3.0 tables//en',\n        '-//netscape comm. corp.//dtd html//en',\n        '-//netscape comm. corp.//dtd strict html//en',\n        '-//o\\'reilly and associates//dtd html 2.0//en',\n        '-//o\\'reilly and associates//dtd html extended 1.0//en',\n        '-//spyglass//dtd html 2.0 extended//en',\n        '-//sq//dtd html 2.0 hotmetal + extensions//en',\n        '-//sun microsystems corp.//dtd hotjava html//en',\n        '-//sun microsystems corp.//dtd hotjava strict html//en',\n        '-//w3c//dtd html 3 1995-03-24//en',\n        '-//w3c//dtd html 3.2 draft//en',\n        '-//w3c//dtd html 3.2 final//en',\n        '-//w3c//dtd html 3.2//en',\n        '-//w3c//dtd html 3.2s draft//en',\n        '-//w3c//dtd html 4.0 frameset//en',\n        '-//w3c//dtd html 4.0 transitional//en',\n        '-//w3c//dtd html experimental 19960712//en',\n        '-//w3c//dtd html experimental 970421//en',\n        '-//w3c//dtd w3 html//en',\n        '-//w3o//dtd w3 html 3.0//en',\n        '-//w3o//dtd w3 html 3.0//en//',\n        '-//webtechs//dtd mozilla html 2.0//en',\n        '-//webtechs//dtd mozilla html//en'\n    ],\n    QUIRKS_MODE_NO_SYSTEM_ID_PUBLIC_ID_PREFIXES = QUIRKS_MODE_PUBLIC_ID_PREFIXES.concat([\n        '-//w3c//dtd html 4.01 frameset//',\n        '-//w3c//dtd html 4.01 transitional//'\n    ]),\n    QUIRKS_MODE_PUBLIC_IDS = [\n        '-//w3o//dtd w3 html strict 3.0//en//',\n        '-/w3c/dtd html 4.0 transitional/en',\n        'html'\n    ],\n    LIMITED_QUIRKS_PUBLIC_ID_PREFIXES = [\n        '-//W3C//DTD XHTML 1.0 Frameset//',\n        '-//W3C//DTD XHTML 1.0 Transitional//'\n    ],\n    LIMITED_QUIRKS_WITH_SYSTEM_ID_PUBLIC_ID_PREFIXES = LIMITED_QUIRKS_PUBLIC_ID_PREFIXES.concat([\n        '-//W3C//DTD HTML 4.01 Frameset//',\n        '-//W3C//DTD HTML 4.01 Transitional//'\n    ]);\n\n\n//Utils\nfunction enquoteDoctypeId(id) {\n    var quote = id.indexOf('\"') !== -1 ? '\\'' : '\"';\n\n    return quote + id + quote;\n}\n\nfunction hasPrefix(publicId, prefixes) {\n    for (var i = 0; i < prefixes.length; i++) {\n        if (publicId.indexOf(prefixes[i]) === 0)\n            return true;\n    }\n\n    return false;\n}\n\n\n//API\nexports.getDocumentMode = function (name, publicId, systemId) {\n    if (name !== VALID_DOCTYPE_NAME)\n        return DOCUMENT_MODE.QUIRKS;\n\n    if (systemId && systemId.toLowerCase() === QUIRKS_MODE_SYSTEM_ID)\n        return DOCUMENT_MODE.QUIRKS;\n\n    if (publicId !== null) {\n        publicId = publicId.toLowerCase();\n\n        if (QUIRKS_MODE_PUBLIC_IDS.indexOf(publicId) > -1)\n            return DOCUMENT_MODE.QUIRKS;\n\n        var prefixes = systemId === null ? QUIRKS_MODE_NO_SYSTEM_ID_PUBLIC_ID_PREFIXES : QUIRKS_MODE_PUBLIC_ID_PREFIXES;\n\n        if (hasPrefix(publicId, prefixes))\n            return DOCUMENT_MODE.QUIRKS;\n\n        prefixes = systemId === null ? LIMITED_QUIRKS_PUBLIC_ID_PREFIXES : LIMITED_QUIRKS_WITH_SYSTEM_ID_PUBLIC_ID_PREFIXES;\n\n        if (hasPrefix(publicId, prefixes))\n            return DOCUMENT_MODE.LIMITED_QUIRKS;\n    }\n\n    return DOCUMENT_MODE.NO_QUIRKS;\n};\n\nexports.serializeContent = function (name, publicId, systemId) {\n    var str = '!DOCTYPE ';\n\n    if (name)\n        str += name;\n\n    if (publicId !== null)\n        str += ' PUBLIC ' + enquoteDoctypeId(publicId);\n\n    else if (systemId !== null)\n        str += ' SYSTEM';\n\n    if (systemId !== null)\n        str += ' ' + enquoteDoctypeId(systemId);\n\n    return str;\n};\n"},"hash":"c0a4448e9258744d1dedba54b48a6986"}