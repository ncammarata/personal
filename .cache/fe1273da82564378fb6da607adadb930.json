{"id":"GTg1","dependencies":[{"name":"/Users/nick/projects/tomespark/node_modules/jszip/package.json","includedInParent":true,"mtime":1510180218000},{"name":"/Users/nick/projects/tomespark/package.json","includedInParent":true,"mtime":1533838770287},{"name":"/Users/nick/projects/tomespark/.babelrc","includedInParent":true,"mtime":1533367520439},{"name":"../compressions","loc":{"line":3,"column":27},"parent":"/Users/nick/projects/tomespark/node_modules/jszip/lib/generate/index.js","resolved":"/Users/nick/projects/tomespark/node_modules/jszip/lib/compressions.js"},{"name":"./ZipFileWorker","loc":{"line":4,"column":28},"parent":"/Users/nick/projects/tomespark/node_modules/jszip/lib/generate/index.js","resolved":"/Users/nick/projects/tomespark/node_modules/jszip/lib/generate/ZipFileWorker.js"}],"generated":{"js":"\"use strict\";var r=require(\"../compressions\"),e=require(\"./ZipFileWorker\"),o=function(e,o){var s=e||o,i=r[s];if(!i)throw new Error(s+\" is not a valid compression method !\");return i};exports.generateWorker=function(r,s,i){var n=new e(s.streamFiles,i,s.platform,s.encodeFileName),t=0;try{r.forEach(function(r,e){t++;var i=o(e.options.compression,s.compression),m=e.options.compressionOptions||s.compressionOptions||{},c=e.dir,a=e.date;e._compressWorker(i,m).withStreamInfo(\"file\",{name:r,dir:c,date:a,comment:e.comment||\"\",unixPermissions:e.unixPermissions,dosPermissions:e.dosPermissions}).pipe(n)}),n.entriesCount=t}catch(r){n.error(r)}return n};","map":{"mappings":[{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":17}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":19}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":27}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":4,"column":0},"generated":{"line":1,"column":46}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":4,"column":0},"generated":{"line":1,"column":48}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":4,"column":0},"generated":{"line":1,"column":56}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":12,"column":0},"generated":{"line":1,"column":75}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":12,"column":0},"generated":{"line":1,"column":77}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":12,"column":0},"generated":{"line":1,"column":86}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":12,"column":0},"generated":{"line":1,"column":88}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":14,"column":0},"generated":{"line":1,"column":91}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":14,"column":0},"generated":{"line":1,"column":95}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":14,"column":0},"generated":{"line":1,"column":97}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":14,"column":0},"generated":{"line":1,"column":100}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":15,"column":0},"generated":{"line":1,"column":102}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":15,"column":0},"generated":{"line":1,"column":104}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":15,"column":0},"generated":{"line":1,"column":106}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":16,"column":0},"generated":{"line":1,"column":109}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":16,"column":0},"generated":{"line":1,"column":113}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":17,"column":0},"generated":{"line":1,"column":115}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":17,"column":0},"generated":{"line":1,"column":121}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":17,"column":0},"generated":{"line":1,"column":125}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":17,"column":0},"generated":{"line":1,"column":131}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":17,"column":0},"generated":{"line":1,"column":133}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":19,"column":0},"generated":{"line":1,"column":173}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":19,"column":0},"generated":{"line":1,"column":180}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":28,"column":0},"generated":{"line":1,"column":183}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":28,"column":0},"generated":{"line":1,"column":191}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":28,"column":0},"generated":{"line":1,"column":206}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":28,"column":0},"generated":{"line":1,"column":215}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":28,"column":0},"generated":{"line":1,"column":217}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":28,"column":0},"generated":{"line":1,"column":219}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":30,"column":0},"generated":{"line":1,"column":222}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":30,"column":0},"generated":{"line":1,"column":226}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":30,"column":0},"generated":{"line":1,"column":228}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":30,"column":0},"generated":{"line":1,"column":232}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":30,"column":0},"generated":{"line":1,"column":234}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":30,"column":0},"generated":{"line":1,"column":236}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":30,"column":0},"generated":{"line":1,"column":248}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":30,"column":0},"generated":{"line":1,"column":250}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":30,"column":0},"generated":{"line":1,"column":252}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":30,"column":0},"generated":{"line":1,"column":261}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":30,"column":0},"generated":{"line":1,"column":263}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":31,"column":0},"generated":{"line":1,"column":279}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":31,"column":0},"generated":{"line":1,"column":281}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":32,"column":0},"generated":{"line":1,"column":283}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":34,"column":0},"generated":{"line":1,"column":287}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":34,"column":0},"generated":{"line":1,"column":289}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":34,"column":0},"generated":{"line":1,"column":297}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":34,"column":0},"generated":{"line":1,"column":306}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":34,"column":0},"generated":{"line":1,"column":308}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":35,"column":0},"generated":{"line":1,"column":311}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":36,"column":0},"generated":{"line":1,"column":315}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":36,"column":0},"generated":{"line":1,"column":319}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":36,"column":0},"generated":{"line":1,"column":321}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":36,"column":0},"generated":{"line":1,"column":323}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":36,"column":0},"generated":{"line":1,"column":325}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":36,"column":0},"generated":{"line":1,"column":333}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":36,"column":0},"generated":{"line":1,"column":345}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":36,"column":0},"generated":{"line":1,"column":347}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":37,"column":0},"generated":{"line":1,"column":360}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":37,"column":0},"generated":{"line":1,"column":362}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":37,"column":0},"generated":{"line":1,"column":364}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":37,"column":0},"generated":{"line":1,"column":372}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":37,"column":0},"generated":{"line":1,"column":392}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":37,"column":0},"generated":{"line":1,"column":394}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":37,"column":0},"generated":{"line":1,"column":414}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":38,"column":0},"generated":{"line":1,"column":417}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":38,"column":0},"generated":{"line":1,"column":419}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":38,"column":0},"generated":{"line":1,"column":421}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":38,"column":0},"generated":{"line":1,"column":425}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":38,"column":0},"generated":{"line":1,"column":427}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":38,"column":0},"generated":{"line":1,"column":429}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":40,"column":0},"generated":{"line":1,"column":434}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":40,"column":0},"generated":{"line":1,"column":436}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":40,"column":0},"generated":{"line":1,"column":452}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":40,"column":0},"generated":{"line":1,"column":454}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":41,"column":0},"generated":{"line":1,"column":457}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":41,"column":0},"generated":{"line":1,"column":472}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":41,"column":0},"generated":{"line":1,"column":479}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":42,"column":0},"generated":{"line":1,"column":480}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":42,"column":0},"generated":{"line":1,"column":485}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":43,"column":0},"generated":{"line":1,"column":487}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":43,"column":0},"generated":{"line":1,"column":491}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":44,"column":0},"generated":{"line":1,"column":493}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":44,"column":0},"generated":{"line":1,"column":498}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":45,"column":0},"generated":{"line":1,"column":500}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":45,"column":0},"generated":{"line":1,"column":508}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":45,"column":0},"generated":{"line":1,"column":510}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":45,"column":0},"generated":{"line":1,"column":519}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":46,"column":0},"generated":{"line":1,"column":522}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":46,"column":0},"generated":{"line":1,"column":538}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":46,"column":0},"generated":{"line":1,"column":540}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":47,"column":0},"generated":{"line":1,"column":556}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":47,"column":0},"generated":{"line":1,"column":571}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":47,"column":0},"generated":{"line":1,"column":573}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":49,"column":0},"generated":{"line":1,"column":590}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":49,"column":0},"generated":{"line":1,"column":595}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":51,"column":0},"generated":{"line":1,"column":600}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":51,"column":0},"generated":{"line":1,"column":602}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":51,"column":0},"generated":{"line":1,"column":615}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":52,"column":0},"generated":{"line":1,"column":617}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":52,"column":0},"generated":{"line":1,"column":623}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":53,"column":0},"generated":{"line":1,"column":626}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":53,"column":0},"generated":{"line":1,"column":628}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":53,"column":0},"generated":{"line":1,"column":634}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":56,"column":0},"generated":{"line":1,"column":637}},{"source":"../node_modules/jszip/lib/generate/index.js","original":{"line":56,"column":0},"generated":{"line":1,"column":644}}],"sources":{"../node_modules/jszip/lib/generate/index.js":"'use strict';\n\nvar compressions = require('../compressions');\nvar ZipFileWorker = require('./ZipFileWorker');\n\n/**\n * Find the compression to use.\n * @param {String} fileCompression the compression defined at the file level, if any.\n * @param {String} zipCompression the compression defined at the load() level.\n * @return {Object} the compression object to use.\n */\nvar getCompression = function (fileCompression, zipCompression) {\n\n    var compressionName = fileCompression || zipCompression;\n    var compression = compressions[compressionName];\n    if (!compression) {\n        throw new Error(compressionName + \" is not a valid compression method !\");\n    }\n    return compression;\n};\n\n/**\n * Create a worker to generate a zip file.\n * @param {JSZip} zip the JSZip instance at the right root level.\n * @param {Object} options to generate the zip file.\n * @param {String} comment the comment to use.\n */\nexports.generateWorker = function (zip, options, comment) {\n\n    var zipFileWorker = new ZipFileWorker(options.streamFiles, comment, options.platform, options.encodeFileName);\n    var entriesCount = 0;\n    try {\n\n        zip.forEach(function (relativePath, file) {\n            entriesCount++;\n            var compression = getCompression(file.options.compression, options.compression);\n            var compressionOptions = file.options.compressionOptions || options.compressionOptions || {};\n            var dir = file.dir, date = file.date;\n\n            file._compressWorker(compression, compressionOptions)\n            .withStreamInfo(\"file\", {\n                name : relativePath,\n                dir : dir,\n                date : date,\n                comment : file.comment || \"\",\n                unixPermissions : file.unixPermissions,\n                dosPermissions : file.dosPermissions\n            })\n            .pipe(zipFileWorker);\n        });\n        zipFileWorker.entriesCount = entriesCount;\n    } catch (e) {\n        zipFileWorker.error(e);\n    }\n\n    return zipFileWorker;\n};\n"},"lineCount":null}},"hash":"d1bafabff6c3f94a6bd977f8d3e5a6da","cacheData":{"env":{}}}