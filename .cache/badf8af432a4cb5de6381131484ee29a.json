{"id":"iz0v","dependencies":[{"name":"/Users/nick/projects/tomespark/package.json","includedInParent":true,"mtime":1533838770287},{"name":"/Users/nick/projects/tomespark/.babelrc","includedInParent":true,"mtime":1533367520439},{"name":"mobx","loc":{"line":1,"column":42},"parent":"/Users/nick/projects/tomespark/app/store.js","resolved":"/Users/nick/projects/tomespark/node_modules/mobx/lib/mobx.module.js"},{"name":"./lib/book","loc":{"line":2,"column":55},"parent":"/Users/nick/projects/tomespark/app/store.js","resolved":"/Users/nick/projects/tomespark/app/lib/book.js"},{"name":"./whale.epub","loc":{"line":4,"column":22},"parent":"/Users/nick/projects/tomespark/app/store.js","resolved":"/Users/nick/projects/tomespark/app/whale.epub"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e,t,n,r,i,o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=require(\"mobx\"),u=require(\"./lib/book\");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r(\"next\",e)},function(e){r(\"throw\",e)});e(s)}(\"next\")})}}function f(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function m(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function b(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,(\"value\"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function v(e,t){throw new Error(\"Decorating class property failed. Please ensure that transform-class-properties is enabled.\")}var p=require(\"./whale.epub\"),h=(r=b((n=function e(){var t,n=this;m(this,e),f(this,\"book\",r,this),f(this,\"comments\",i,this),f(this,\"currentTitle\",o,this),this.commentsRef=null,this.setTitle=(t=c(regeneratorRuntime.mark(function e(t){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.getBook)(t);case 2:return r=e.sent,e.next=5,(0,u.getChapters)(r,0);case 5:return i=e.sent,e.next=8,(0,u.getTitle)(r);case 8:return e.t0=e.sent,e.t1=i,e.next=12,(0,u.getTOC)(r);case 12:e.t2=e.sent,n.book={title:e.t0,chapters:e.t1,toc:e.t2};case 14:case\"end\":return e.stop()}},e,n)})),function(e){return t.apply(this,arguments)}),this.addComment=function(e,t){var r=a({},(0,s.toJS)(n.comments),l({},e,t));n.commentsRef.set(r)},this.setComments=function(e){e.val()&&(n.comments=e.val())},window.setTitle=this.setTitle,(0,s.observe)(this,\"currentTitle\",function(){n.commentsRef&&n.commentsRef.off(\"value\",n.setComments),n.commentsRef=firebase.database().ref(n.currentTitle+\"/comments\"),n.commentsRef.on(\"value\",n.setComments)},!0),this.setTitle(p)}).prototype,\"book\",[s.observable],{enumerable:!0,initializer:function(){return null}}),i=b(n.prototype,\"comments\",[s.observable],{enumerable:!0,initializer:function(){return{}}}),o=b(n.prototype,\"currentTitle\",[s.observable],{enumerable:!0,initializer:function(){return\"skin\"}}),n);exports.default=h;","map":{"mappings":[{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":0}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":13}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":20}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":35}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":43}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":56}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":57}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":64}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":68}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":76}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":89}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":91}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":95}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":97}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":99}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":101}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":103}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":105}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":107}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":109}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":116}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":124}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":133}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":136}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":140}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":144}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":146}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":148}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":150}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":160}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":167}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":171}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":172}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":176}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":178}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":188}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":191}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":195}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":199}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":204}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":206}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":213}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":223}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":238}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":243}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":245}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":250}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":252}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":255}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":257}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":261}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":268}},{"source":"store.js","original":{"line":1,"column":0},"generated":{"line":1,"column":271}},{"source":"store.js","original":{"line":1,"column":0},"generated":{"line":1,"column":273}},{"source":"store.js","original":{"line":1,"column":0},"generated":{"line":1,"column":281}},{"source":"store.js","original":{"line":2,"column":0},"generated":{"line":1,"column":289}},{"source":"store.js","original":{"line":2,"column":0},"generated":{"line":1,"column":291}},{"source":"store.js","original":{"line":2,"column":0},"generated":{"line":1,"column":299}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":313}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":322}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":324}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":326}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":328}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":331}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":338}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":343}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":345}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":352}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":367}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":369}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":371}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":372}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":378}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":380}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":392}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":394}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":408}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":410}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":420}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":424}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":426}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":429}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":431}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":433}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":442}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":444}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":447}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":454}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":465}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":469}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":471}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":473}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":479}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":484}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":495}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":502}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":506}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":514}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":523}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":525}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":528}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":535}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":544}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":546}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":548}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":551}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":555}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":559}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":561}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":563}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":566}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":569}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":571}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":573}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":579}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":585}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":588}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":600}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":602}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":605}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":609}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":611}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":616}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":623}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":631}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":639}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":642}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":647}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":656}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":659}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":661}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":668}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":672}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":681}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":684}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":686}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":694}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":699}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":701}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":704}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":705}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":716}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":725}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":727}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":729}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":731}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":733}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":736}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":739}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":746}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":761}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":763}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":765}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":766}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":777}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":779}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":790}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":803}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":805}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":818}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":827}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":829}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":838}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":844}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":846}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":858}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":860}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":872}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":877}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":885}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":889}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":898}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":900}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":902}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":905}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":910}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":923}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":926}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":932}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":936}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":946}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":983}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":992}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":994}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":996}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":998}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1000}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1002}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1005}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1009}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1011}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1014}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1021}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1028}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1033}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1036}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1044}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1053}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1056}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1058}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1061}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1063}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1068}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1070}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1083}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1085}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1096}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1098}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1113}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1115}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1129}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1139}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1142}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1144}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1159}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1161}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1171}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1174}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1176}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1178}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1186}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1196}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1203}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1212}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1214}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1217}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1224}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1226}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1228}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1230}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1234}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1237}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1240}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1248}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1252}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1254}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1268}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1270}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1276}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1278}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1290}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1292}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1304}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1309}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1317}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1319}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1321}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1338}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1346}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1350}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1352}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1366}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1373}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1388}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1390}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1392}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1395}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1397}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1403}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1405}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1414}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1416}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1418}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1421}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1427}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1431}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1437}},{"source":"store.js","original":{"line":4,"column":0},"generated":{"line":1,"column":1532}},{"source":"store.js","name":"whale","original":{"line":4,"column":6},"generated":{"line":1,"column":1536}},{"source":"store.js","name":"require","original":{"line":4,"column":14},"generated":{"line":1,"column":1538}},{"source":"store.js","original":{"line":4,"column":22},"generated":{"line":1,"column":1546}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":1562}},{"source":"store.js","name":"observable","original":{"line":7,"column":3},"generated":{"line":1,"column":1565}},{"source":"store.js","name":"observable","original":{"line":7,"column":3},"generated":{"line":1,"column":1567}},{"source":"store.js","original":{"line":38,"column":2},"generated":{"line":1,"column":1570}},{"source":"store.js","original":{"line":38,"column":2},"generated":{"line":1,"column":1572}},{"source":"store.js","original":{"line":38,"column":16},"generated":{"line":1,"column":1581}},{"source":"store.js","original":{"line":38,"column":16},"generated":{"line":1,"column":1585}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1589}},{"source":"store.js","original":{"line":38,"column":16},"generated":{"line":1,"column":1591}},{"source":"store.js","original":{"line":38,"column":16},"generated":{"line":1,"column":1593}},{"source":"store.js","original":{"line":38,"column":16},"generated":{"line":1,"column":1598}},{"source":"store.js","original":{"line":38,"column":16},"generated":{"line":1,"column":1600}},{"source":"store.js","original":{"line":38,"column":16},"generated":{"line":1,"column":1605}},{"source":"store.js","original":{"line":38,"column":16},"generated":{"line":1,"column":1608}},{"source":"store.js","original":{"line":38,"column":16},"generated":{"line":1,"column":1610}},{"source":"store.js","original":{"line":38,"column":16},"generated":{"line":1,"column":1615}},{"source":"store.js","original":{"line":38,"column":16},"generated":{"line":1,"column":1622}},{"source":"store.js","original":{"line":38,"column":16},"generated":{"line":1,"column":1624}},{"source":"store.js","original":{"line":38,"column":16},"generated":{"line":1,"column":1630}},{"source":"store.js","original":{"line":38,"column":16},"generated":{"line":1,"column":1632}},{"source":"store.js","original":{"line":38,"column":16},"generated":{"line":1,"column":1637}},{"source":"store.js","original":{"line":38,"column":16},"generated":{"line":1,"column":1648}},{"source":"store.js","original":{"line":38,"column":16},"generated":{"line":1,"column":1650}},{"source":"store.js","original":{"line":38,"column":16},"generated":{"line":1,"column":1656}},{"source":"store.js","original":{"line":38,"column":16},"generated":{"line":1,"column":1658}},{"source":"store.js","original":{"line":38,"column":16},"generated":{"line":1,"column":1663}},{"source":"store.js","original":{"line":38,"column":16},"generated":{"line":1,"column":1678}},{"source":"store.js","original":{"line":38,"column":16},"generated":{"line":1,"column":1680}},{"source":"store.js","name":"commentsRef","original":{"line":13,"column":2},"generated":{"line":1,"column":1686}},{"source":"store.js","name":"commentsRef","original":{"line":13,"column":2},"generated":{"line":1,"column":1691}},{"source":"store.js","original":{"line":13,"column":16},"generated":{"line":1,"column":1703}},{"source":"store.js","name":"setTitle","original":{"line":15,"column":2},"generated":{"line":1,"column":1708}},{"source":"store.js","name":"setTitle","original":{"line":15,"column":2},"generated":{"line":1,"column":1713}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1723}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1725}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1727}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1746}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1751}},{"source":"store.js","name":"url","original":{"line":15,"column":19},"generated":{"line":1,"column":1760}},{"source":"store.js","name":"url","original":{"line":15,"column":19},"generated":{"line":1,"column":1762}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1765}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1769}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1771}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1773}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1780}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1799}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1804}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1813}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1816}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1823}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1830}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1832}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1837}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1839}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1845}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1850}},{"source":"store.js","original":{"line":16,"column":23},"generated":{"line":1,"column":1852}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1859}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1861}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1866}},{"source":"store.js","original":{"line":16,"column":23},"generated":{"line":1,"column":1869}},{"source":"store.js","name":"url","original":{"line":16,"column":31},"generated":{"line":1,"column":1871}},{"source":"store.js","name":"url","original":{"line":16,"column":31},"generated":{"line":1,"column":1873}},{"source":"store.js","name":"url","original":{"line":16,"column":31},"generated":{"line":1,"column":1882}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1885}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1890}},{"source":"store.js","original":{"line":17,"column":27},"generated":{"line":1,"column":1892}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1899}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1901}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1903}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1908}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1910}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1915}},{"source":"store.js","original":{"line":17,"column":27},"generated":{"line":1,"column":1918}},{"source":"store.js","name":"book","original":{"line":17,"column":39},"generated":{"line":1,"column":1920}},{"source":"store.js","name":"book","original":{"line":17,"column":39},"generated":{"line":1,"column":1922}},{"source":"store.js","name":"book","original":{"line":17,"column":39},"generated":{"line":1,"column":1935}},{"source":"store.js","original":{"line":17,"column":45},"generated":{"line":1,"column":1937}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1940}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1945}},{"source":"store.js","original":{"line":20,"column":19},"generated":{"line":1,"column":1947}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1954}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1956}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1958}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1963}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1965}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1970}},{"source":"store.js","original":{"line":20,"column":19},"generated":{"line":1,"column":1973}},{"source":"store.js","name":"book","original":{"line":20,"column":28},"generated":{"line":1,"column":1975}},{"source":"store.js","name":"book","original":{"line":20,"column":28},"generated":{"line":1,"column":1977}},{"source":"store.js","name":"book","original":{"line":20,"column":28},"generated":{"line":1,"column":1987}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1990}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":1995}},{"source":"store.js","original":{"line":22,"column":17},"generated":{"line":1,"column":1997}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":2004}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":2006}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":2009}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":2011}},{"source":"store.js","name":"chapters","original":{"line":21,"column":6},"generated":{"line":1,"column":2016}},{"source":"store.js","name":"chapters","original":{"line":21,"column":6},"generated":{"line":1,"column":2018}},{"source":"store.js","name":"chapters","original":{"line":21,"column":6},"generated":{"line":1,"column":2021}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":2023}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":2025}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":2030}},{"source":"store.js","original":{"line":22,"column":17},"generated":{"line":1,"column":2034}},{"source":"store.js","name":"book","original":{"line":22,"column":24},"generated":{"line":1,"column":2036}},{"source":"store.js","name":"book","original":{"line":22,"column":24},"generated":{"line":1,"column":2038}},{"source":"store.js","name":"book","original":{"line":22,"column":24},"generated":{"line":1,"column":2046}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":2049}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":2054}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":2057}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":2059}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":2062}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":2064}},{"source":"store.js","name":"book","original":{"line":19,"column":9},"generated":{"line":1,"column":2069}},{"source":"store.js","name":"book","original":{"line":19,"column":9},"generated":{"line":1,"column":2071}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":2076}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":2077}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":2083}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":2085}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":2088}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":2097}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":2099}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":2102}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":2106}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":2108}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":2112}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":2117}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":2120}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":2124}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":2130}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":2137}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":2139}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":2148}},{"source":"store.js","original":{"line":15,"column":13},"generated":{"line":1,"column":2150}},{"source":"store.js","original":{"line":38,"column":16},"generated":{"line":1,"column":2156}},{"source":"store.js","original":{"line":38,"column":16},"generated":{"line":1,"column":2165}},{"source":"store.js","original":{"line":38,"column":16},"generated":{"line":1,"column":2168}},{"source":"store.js","original":{"line":38,"column":16},"generated":{"line":1,"column":2175}},{"source":"store.js","original":{"line":38,"column":16},"generated":{"line":1,"column":2177}},{"source":"store.js","original":{"line":38,"column":16},"generated":{"line":1,"column":2183}},{"source":"store.js","original":{"line":38,"column":16},"generated":{"line":1,"column":2188}},{"source":"store.js","name":"addComment","original":{"line":26,"column":2},"generated":{"line":1,"column":2201}},{"source":"store.js","name":"addComment","original":{"line":26,"column":2},"generated":{"line":1,"column":2206}},{"source":"store.js","original":{"line":26,"column":15},"generated":{"line":1,"column":2217}},{"source":"store.js","name":"key","original":{"line":26,"column":16},"generated":{"line":1,"column":2226}},{"source":"store.js","name":"val","original":{"line":26,"column":21},"generated":{"line":1,"column":2228}},{"source":"store.js","name":"comments","original":{"line":27,"column":10},"generated":{"line":1,"column":2231}},{"source":"store.js","name":"comments","original":{"line":27,"column":10},"generated":{"line":1,"column":2235}},{"source":"store.js","original":{"line":27,"column":26},"generated":{"line":1,"column":2237}},{"source":"store.js","original":{"line":27,"column":26},"generated":{"line":1,"column":2239}},{"source":"store.js","original":{"line":27,"column":26},"generated":{"line":1,"column":2243}},{"source":"store.js","original":{"line":27,"column":31},"generated":{"line":1,"column":2245}},{"source":"store.js","original":{"line":27,"column":31},"generated":{"line":1,"column":2247}},{"source":"store.js","original":{"line":27,"column":31},"generated":{"line":1,"column":2253}},{"source":"store.js","name":"comments","original":{"line":27,"column":36},"generated":{"line":1,"column":2255}},{"source":"store.js","name":"key","original":{"line":27,"column":48},"generated":{"line":1,"column":2265}},{"source":"store.js","name":"key","original":{"line":27,"column":48},"generated":{"line":1,"column":2267}},{"source":"store.js","name":"key","original":{"line":27,"column":48},"generated":{"line":1,"column":2270}},{"source":"store.js","name":"val","original":{"line":27,"column":54},"generated":{"line":1,"column":2272}},{"source":"store.js","name":"commentsRef","original":{"line":28,"column":9},"generated":{"line":1,"column":2276}},{"source":"store.js","name":"commentsRef","original":{"line":28,"column":9},"generated":{"line":1,"column":2278}},{"source":"store.js","name":"set","original":{"line":28,"column":21},"generated":{"line":1,"column":2290}},{"source":"store.js","name":"comments","original":{"line":28,"column":25},"generated":{"line":1,"column":2294}},{"source":"store.js","name":"setComments","original":{"line":31,"column":2},"generated":{"line":1,"column":2298}},{"source":"store.js","name":"setComments","original":{"line":31,"column":2},"generated":{"line":1,"column":2303}},{"source":"store.js","original":{"line":31,"column":16},"generated":{"line":1,"column":2315}},{"source":"store.js","original":{"line":31,"column":28},"generated":{"line":1,"column":2324}},{"source":"store.js","name":"snapshot","original":{"line":32,"column":16},"generated":{"line":1,"column":2327}},{"source":"store.js","name":"val","original":{"line":32,"column":25},"generated":{"line":1,"column":2329}},{"source":"store.js","name":"comments","original":{"line":34,"column":11},"generated":{"line":1,"column":2337}},{"source":"store.js","name":"comments","original":{"line":34,"column":11},"generated":{"line":1,"column":2339}},{"source":"store.js","name":"snapshot","original":{"line":34,"column":22},"generated":{"line":1,"column":2348}},{"source":"store.js","name":"val","original":{"line":34,"column":31},"generated":{"line":1,"column":2350}},{"source":"store.js","name":"setTitle","original":{"line":39,"column":11},"generated":{"line":1,"column":2358}},{"source":"store.js","name":"setTitle","original":{"line":39,"column":11},"generated":{"line":1,"column":2365}},{"source":"store.js","original":{"line":39,"column":22},"generated":{"line":1,"column":2374}},{"source":"store.js","name":"setTitle","original":{"line":39,"column":27},"generated":{"line":1,"column":2379}},{"source":"store.js","original":{"line":42,"column":6},"generated":{"line":1,"column":2389}},{"source":"store.js","original":{"line":42,"column":6},"generated":{"line":1,"column":2391}},{"source":"store.js","original":{"line":42,"column":6},"generated":{"line":1,"column":2393}},{"source":"store.js","original":{"line":42,"column":6},"generated":{"line":1,"column":2402}},{"source":"store.js","original":{"line":43,"column":6},"generated":{"line":1,"column":2407}},{"source":"store.js","original":{"line":44,"column":6},"generated":{"line":1,"column":2422}},{"source":"store.js","original":{"line":45,"column":12},"generated":{"line":1,"column":2433}},{"source":"store.js","name":"commentsRef","original":{"line":45,"column":17},"generated":{"line":1,"column":2435}},{"source":"store.js","name":"commentsRef","original":{"line":46,"column":15},"generated":{"line":1,"column":2448}},{"source":"store.js","name":"commentsRef","original":{"line":46,"column":15},"generated":{"line":1,"column":2450}},{"source":"store.js","name":"off","original":{"line":46,"column":27},"generated":{"line":1,"column":2462}},{"source":"store.js","original":{"line":46,"column":31},"generated":{"line":1,"column":2466}},{"source":"store.js","original":{"line":46,"column":40},"generated":{"line":1,"column":2474}},{"source":"store.js","name":"setComments","original":{"line":46,"column":45},"generated":{"line":1,"column":2476}},{"source":"store.js","name":"commentsRef","original":{"line":49,"column":13},"generated":{"line":1,"column":2489}},{"source":"store.js","name":"commentsRef","original":{"line":49,"column":13},"generated":{"line":1,"column":2491}},{"source":"store.js","name":"firebase","original":{"line":49,"column":27},"generated":{"line":1,"column":2503}},{"source":"store.js","name":"database","original":{"line":50,"column":11},"generated":{"line":1,"column":2512}},{"source":"store.js","name":"ref","original":{"line":51,"column":11},"generated":{"line":1,"column":2523}},{"source":"store.js","original":{"line":51,"column":18},"generated":{"line":1,"column":2527}},{"source":"store.js","name":"currentTitle","original":{"line":51,"column":23},"generated":{"line":1,"column":2529}},{"source":"store.js","original":{"line":49,"column":8},"generated":{"line":1,"column":2542}},{"source":"store.js","name":"commentsRef","original":{"line":53,"column":13},"generated":{"line":1,"column":2555}},{"source":"store.js","name":"commentsRef","original":{"line":53,"column":13},"generated":{"line":1,"column":2557}},{"source":"store.js","name":"on","original":{"line":53,"column":25},"generated":{"line":1,"column":2569}},{"source":"store.js","original":{"line":53,"column":28},"generated":{"line":1,"column":2572}},{"source":"store.js","original":{"line":53,"column":37},"generated":{"line":1,"column":2580}},{"source":"store.js","name":"setComments","original":{"line":53,"column":42},"generated":{"line":1,"column":2582}},{"source":"store.js","original":{"line":55,"column":6},"generated":{"line":1,"column":2597}},{"source":"store.js","name":"setTitle","original":{"line":58,"column":9},"generated":{"line":1,"column":2600}},{"source":"store.js","name":"setTitle","original":{"line":58,"column":9},"generated":{"line":1,"column":2605}},{"source":"store.js","name":"whale","original":{"line":58,"column":18},"generated":{"line":1,"column":2614}},{"source":"store.js","name":"observable","original":{"line":7,"column":3},"generated":{"line":1,"column":2619}},{"source":"store.js","name":"observable","original":{"line":7,"column":3},"generated":{"line":1,"column":2629}},{"source":"store.js","name":"observable","original":{"line":7,"column":3},"generated":{"line":1,"column":2636}},{"source":"store.js","name":"observable","original":{"line":7,"column":3},"generated":{"line":1,"column":2637}},{"source":"store.js","name":"observable","original":{"line":7,"column":3},"generated":{"line":1,"column":2639}},{"source":"store.js","name":"observable","original":{"line":7,"column":3},"generated":{"line":1,"column":2651}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":2652}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":2664}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":2666}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":2678}},{"source":"store.js","original":{"line":8,"column":9},"generated":{"line":1,"column":2689}},{"source":"store.js","original":{"line":8,"column":9},"generated":{"line":1,"column":2696}},{"source":"store.js","name":"observable","original":{"line":9,"column":3},"generated":{"line":1,"column":2704}},{"source":"store.js","name":"observable","original":{"line":9,"column":3},"generated":{"line":1,"column":2706}},{"source":"store.js","name":"observable","original":{"line":9,"column":3},"generated":{"line":1,"column":2708}},{"source":"store.js","name":"observable","original":{"line":9,"column":3},"generated":{"line":1,"column":2710}},{"source":"store.js","name":"observable","original":{"line":9,"column":3},"generated":{"line":1,"column":2720}},{"source":"store.js","name":"observable","original":{"line":9,"column":3},"generated":{"line":1,"column":2731}},{"source":"store.js","name":"observable","original":{"line":9,"column":3},"generated":{"line":1,"column":2732}},{"source":"store.js","name":"observable","original":{"line":9,"column":3},"generated":{"line":1,"column":2734}},{"source":"store.js","name":"observable","original":{"line":9,"column":3},"generated":{"line":1,"column":2746}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":2747}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":2759}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":2761}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":2773}},{"source":"store.js","original":{"line":10,"column":13},"generated":{"line":1,"column":2784}},{"source":"store.js","original":{"line":10,"column":13},"generated":{"line":1,"column":2790}},{"source":"store.js","name":"observable","original":{"line":11,"column":3},"generated":{"line":1,"column":2796}},{"source":"store.js","name":"observable","original":{"line":11,"column":3},"generated":{"line":1,"column":2798}},{"source":"store.js","name":"observable","original":{"line":11,"column":3},"generated":{"line":1,"column":2800}},{"source":"store.js","name":"observable","original":{"line":11,"column":3},"generated":{"line":1,"column":2802}},{"source":"store.js","name":"observable","original":{"line":11,"column":3},"generated":{"line":1,"column":2812}},{"source":"store.js","name":"observable","original":{"line":11,"column":3},"generated":{"line":1,"column":2827}},{"source":"store.js","name":"observable","original":{"line":11,"column":3},"generated":{"line":1,"column":2828}},{"source":"store.js","name":"observable","original":{"line":11,"column":3},"generated":{"line":1,"column":2830}},{"source":"store.js","name":"observable","original":{"line":11,"column":3},"generated":{"line":1,"column":2842}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":2843}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":2855}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":2857}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":2869}},{"source":"store.js","original":{"line":12,"column":17},"generated":{"line":1,"column":2880}},{"source":"store.js","original":{"line":12,"column":17},"generated":{"line":1,"column":2886}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":2896}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":2899}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":2907}},{"source":"store.js","name":"Store","original":{"line":6,"column":21},"generated":{"line":1,"column":2915}}],"sources":{"store.js":"import { observable, observe, toJS } from \"mobx\"\nimport { getBook, getTOC, getChapters, getTitle } from \"./lib/book\"\n\nconst whale = require(\"./whale.epub\")\n\nexport default class Store {\n  @observable\n  book = null\n  @observable\n  comments = {}\n  @observable\n  currentTitle = \"skin\"\n  commentsRef = null\n\n  setTitle = async url => {\n    const book = await getBook(url)\n    const chapters = await getChapters(book, 0)\n\n    this.book = {\n      title: await getTitle(book),\n      chapters,\n      toc: await getTOC(book),\n    }\n  }\n\n  addComment = (key, val) => {\n    const comments = { ...toJS(this.comments), [key]: val }\n    this.commentsRef.set(comments)\n  }\n\n  setComments = snapshot => {\n    const val = snapshot.val()\n    if (val) {\n      this.comments = snapshot.val()\n    }\n  }\n\n  constructor() {\n    window.setTitle = this.setTitle\n\n    observe(\n      this,\n      \"currentTitle\",\n      () => {\n        if (this.commentsRef) {\n          this.commentsRef.off(\"value\", this.setComments)\n        }\n\n        this.commentsRef = firebase\n          .database()\n          .ref(`${this.currentTitle}/comments`)\n\n        this.commentsRef.on(\"value\", this.setComments)\n      },\n      true,\n    )\n\n    this.setTitle(whale)\n  }\n}\n"},"lineCount":null}},"hash":"fd33a3580c81227af8a431c3fab7dc8c","cacheData":{"env":{}}}