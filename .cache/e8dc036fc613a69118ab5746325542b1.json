{"id":"AsaI","dependencies":[{"name":"/Users/nick/projects/tomespark/node_modules/jszip/package.json","includedInParent":true,"mtime":1510180218000},{"name":"/Users/nick/projects/tomespark/package.json","includedInParent":true,"mtime":1534115700413},{"name":"/Users/nick/projects/tomespark/.babelrc","includedInParent":true,"mtime":1533367520439},{"name":"../utils","loc":{"line":3,"column":20},"parent":"/Users/nick/projects/tomespark/node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","resolved":"/Users/nick/projects/tomespark/node_modules/jszip/lib/utils.js"},{"name":"../stream/GenericWorker","loc":{"line":4,"column":28},"parent":"/Users/nick/projects/tomespark/node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","resolved":"/Users/nick/projects/tomespark/node_modules/jszip/lib/stream/GenericWorker.js"}],"generated":{"js":"\"use strict\";var e=require(\"../utils\"),t=require(\"../stream/GenericWorker\");function r(e,r){t.call(this,\"Nodejs stream input adapter for \"+e),this._upstreamEnded=!1,this._bindStream(r)}e.inherits(r,t),r.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on(\"data\",function(e){t.push({data:e,meta:{percent:0}})}).on(\"error\",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on(\"end\",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},r.prototype.pause=function(){return!!t.prototype.pause.call(this)&&(this._stream.pause(),!0)},r.prototype.resume=function(){return!!t.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},module.exports=r;","map":{"mappings":[{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":3,"column":0},"generated":{"line":1,"column":17}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":3,"column":0},"generated":{"line":1,"column":19}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":3,"column":0},"generated":{"line":1,"column":27}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":4,"column":0},"generated":{"line":1,"column":39}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":4,"column":0},"generated":{"line":1,"column":41}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":4,"column":0},"generated":{"line":1,"column":49}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":12,"column":0},"generated":{"line":1,"column":76}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":12,"column":0},"generated":{"line":1,"column":85}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":12,"column":0},"generated":{"line":1,"column":87}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":12,"column":0},"generated":{"line":1,"column":89}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":13,"column":0},"generated":{"line":1,"column":92}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":13,"column":0},"generated":{"line":1,"column":94}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":13,"column":0},"generated":{"line":1,"column":99}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":13,"column":0},"generated":{"line":1,"column":104}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":13,"column":0},"generated":{"line":1,"column":139}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":14,"column":0},"generated":{"line":1,"column":142}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":14,"column":0},"generated":{"line":1,"column":147}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":14,"column":0},"generated":{"line":1,"column":163}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":15,"column":0},"generated":{"line":1,"column":165}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":15,"column":0},"generated":{"line":1,"column":170}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":15,"column":0},"generated":{"line":1,"column":182}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":18,"column":0},"generated":{"line":1,"column":185}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":18,"column":0},"generated":{"line":1,"column":187}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":18,"column":0},"generated":{"line":1,"column":196}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":18,"column":0},"generated":{"line":1,"column":198}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":25,"column":0},"generated":{"line":1,"column":201}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":25,"column":0},"generated":{"line":1,"column":203}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":25,"column":0},"generated":{"line":1,"column":213}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":25,"column":0},"generated":{"line":1,"column":225}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":25,"column":0},"generated":{"line":1,"column":234}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":26,"column":0},"generated":{"line":1,"column":237}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":26,"column":0},"generated":{"line":1,"column":241}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":26,"column":0},"generated":{"line":1,"column":243}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":27,"column":0},"generated":{"line":1,"column":248}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":27,"column":0},"generated":{"line":1,"column":253}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":27,"column":0},"generated":{"line":1,"column":261}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":28,"column":0},"generated":{"line":1,"column":263}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":28,"column":0},"generated":{"line":1,"column":265}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":29,"column":0},"generated":{"line":1,"column":273}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":30,"column":0},"generated":{"line":1,"column":275}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":30,"column":0},"generated":{"line":1,"column":278}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":30,"column":0},"generated":{"line":1,"column":285}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":30,"column":0},"generated":{"line":1,"column":294}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":31,"column":0},"generated":{"line":1,"column":297}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":31,"column":0},"generated":{"line":1,"column":299}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":31,"column":0},"generated":{"line":1,"column":304}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":32,"column":0},"generated":{"line":1,"column":305}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":32,"column":0},"generated":{"line":1,"column":310}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":33,"column":0},"generated":{"line":1,"column":312}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":33,"column":0},"generated":{"line":1,"column":317}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":34,"column":0},"generated":{"line":1,"column":318}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":34,"column":0},"generated":{"line":1,"column":326}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":38,"column":0},"generated":{"line":1,"column":333}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":38,"column":0},"generated":{"line":1,"column":336}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":38,"column":0},"generated":{"line":1,"column":344}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":38,"column":0},"generated":{"line":1,"column":353}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":39,"column":0},"generated":{"line":1,"column":356}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":39,"column":0},"generated":{"line":1,"column":358}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":40,"column":0},"generated":{"line":1,"column":367}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":40,"column":0},"generated":{"line":1,"column":372}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":40,"column":0},"generated":{"line":1,"column":387}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":42,"column":0},"generated":{"line":1,"column":389}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":42,"column":0},"generated":{"line":1,"column":391}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":42,"column":0},"generated":{"line":1,"column":397}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":45,"column":0},"generated":{"line":1,"column":402}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":45,"column":0},"generated":{"line":1,"column":405}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":45,"column":0},"generated":{"line":1,"column":411}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":46,"column":0},"generated":{"line":1,"column":422}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":46,"column":0},"generated":{"line":1,"column":424}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":47,"column":0},"generated":{"line":1,"column":433}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":47,"column":0},"generated":{"line":1,"column":435}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":47,"column":0},"generated":{"line":1,"column":451}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":49,"column":0},"generated":{"line":1,"column":453}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":49,"column":0},"generated":{"line":1,"column":455}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":53,"column":0},"generated":{"line":1,"column":464}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":53,"column":0},"generated":{"line":1,"column":466}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":53,"column":0},"generated":{"line":1,"column":476}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":53,"column":0},"generated":{"line":1,"column":482}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":54,"column":0},"generated":{"line":1,"column":493}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":54,"column":0},"generated":{"line":1,"column":501}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":54,"column":0},"generated":{"line":1,"column":503}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":54,"column":0},"generated":{"line":1,"column":513}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":54,"column":0},"generated":{"line":1,"column":519}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":54,"column":0},"generated":{"line":1,"column":524}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":57,"column":0},"generated":{"line":1,"column":532}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":57,"column":0},"generated":{"line":1,"column":537}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":57,"column":0},"generated":{"line":1,"column":545}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":58,"column":0},"generated":{"line":1,"column":554}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":60,"column":0},"generated":{"line":1,"column":558}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":60,"column":0},"generated":{"line":1,"column":560}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":60,"column":0},"generated":{"line":1,"column":570}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":60,"column":0},"generated":{"line":1,"column":577}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":61,"column":0},"generated":{"line":1,"column":588}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":61,"column":0},"generated":{"line":1,"column":596}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":61,"column":0},"generated":{"line":1,"column":598}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":61,"column":0},"generated":{"line":1,"column":608}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":61,"column":0},"generated":{"line":1,"column":615}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":61,"column":0},"generated":{"line":1,"column":620}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":65,"column":0},"generated":{"line":1,"column":628}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":65,"column":0},"generated":{"line":1,"column":633}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":66,"column":0},"generated":{"line":1,"column":648}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":66,"column":0},"generated":{"line":1,"column":653}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":68,"column":0},"generated":{"line":1,"column":659}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":68,"column":0},"generated":{"line":1,"column":664}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":68,"column":0},"generated":{"line":1,"column":672}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":71,"column":0},"generated":{"line":1,"column":682}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":74,"column":0},"generated":{"line":1,"column":686}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":74,"column":0},"generated":{"line":1,"column":693}},{"source":"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js","original":{"line":74,"column":0},"generated":{"line":1,"column":701}}],"sources":{"../node_modules/jszip/lib/nodejs/NodejsStreamInputAdapter.js":"\"use strict\";\n\nvar utils = require('../utils');\nvar GenericWorker = require('../stream/GenericWorker');\n\n/**\n * A worker that use a nodejs stream as source.\n * @constructor\n * @param {String} filename the name of the file entry for this stream.\n * @param {Readable} stream the nodejs stream.\n */\nfunction NodejsStreamInputAdapter(filename, stream) {\n    GenericWorker.call(this, \"Nodejs stream input adapter for \" + filename);\n    this._upstreamEnded = false;\n    this._bindStream(stream);\n}\n\nutils.inherits(NodejsStreamInputAdapter, GenericWorker);\n\n/**\n * Prepare the stream and bind the callbacks on it.\n * Do this ASAP on node 0.10 ! A lazy binding doesn't always work.\n * @param {Stream} stream the nodejs stream to use.\n */\nNodejsStreamInputAdapter.prototype._bindStream = function (stream) {\n    var self = this;\n    this._stream = stream;\n    stream.pause();\n    stream\n    .on(\"data\", function (chunk) {\n        self.push({\n            data: chunk,\n            meta : {\n                percent : 0\n            }\n        });\n    })\n    .on(\"error\", function (e) {\n        if(self.isPaused) {\n            this.generatedError = e;\n        } else {\n            self.error(e);\n        }\n    })\n    .on(\"end\", function () {\n        if(self.isPaused) {\n            self._upstreamEnded = true;\n        } else {\n            self.end();\n        }\n    });\n};\nNodejsStreamInputAdapter.prototype.pause = function () {\n    if(!GenericWorker.prototype.pause.call(this)) {\n        return false;\n    }\n    this._stream.pause();\n    return true;\n};\nNodejsStreamInputAdapter.prototype.resume = function () {\n    if(!GenericWorker.prototype.resume.call(this)) {\n        return false;\n    }\n\n    if(this._upstreamEnded) {\n        this.end();\n    } else {\n        this._stream.resume();\n    }\n\n    return true;\n};\n\nmodule.exports = NodejsStreamInputAdapter;\n"},"lineCount":null}},"hash":"2194b94ab9281946aa347c986d76925b","cacheData":{"env":{}}}